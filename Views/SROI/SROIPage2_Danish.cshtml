@using Impactly_PDF_Generator.Models.Enums
@using Impactly_PDF_Generator.Services
@model SROIPDFGeneratorService
@inject Impactly_PDF_Generator.Utilities.INumberUtility NumberUtility

<!DOCTYPE html>
<html lang="en">
<head> 
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@100..900&family=Lora:ital,wght@0,400..700;1,400..700&display=swap" rel="stylesheet">
</head>
<body>
@if (Model._SROIRequestModel.SROIPage2 is not null)
{
    var value = Model._SROIRequestModel.SROIPage2;
    var interventionActivities = string.Join("; ", value.InterventionActivities);
    var ageGroup = $"{value.TargetGroupAgeMin} - {value.TargetGroupAgeMax}";
    var interventionCosts = NumberUtility.AbbreviateNumber(AbbreviateTypeEnum.Currency, 2, value.InterventionCosts, Model._SROIRequestModel.Language, Model._SROIRequestModel.Currency);
    var yOffset = 0;

<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 600 846" xmlns:xlink="http://www.w3.org/1999/xlink">
  <style>
    foreignObject div {
      font-family: Inter;
      font-size: 10px;
      font-weight: 400;
      line-height: 15px;
      word-wrap: break-word;
      text-align: left;
    }
  </style>
  <g filter="url(#a)"><path fill="#fff" d="M-6-5.8h618.3v853.6H-6z"/><mask id="c" fill="#fff"><path d="M24.5 616h547v20h-547z"/></mask><mask id="b" fill="#fff"><path d="M24.5 636h547v23h-547z"/></mask><path stroke="#0a0812" stroke-dasharray="2 2" stroke-opacity=".1" stroke-width=".5" d="M24.8 577.3h546.5v.5H24.8z"/><path fill="#1c1632" d="M24.5 28a4 4 0 0 1 4-4h539a4 4 0 0 1 4 4v36h-547z"/><path fill="#ef5d43" d="M241.8 38.2h7.2q.8 0 .8.8v11.7q0 .7-.8.8h-15a1 1 0 0 1-.8-.8V37.3q0-.7.8-.8h6.2zm-7 0v11.6h13.4v-10h-7l-1.7-1.6zm5.9 3.3h1.6v6.7h-1.6zM244 44h1.7v4.2H244zm-6.7 1.7h1.7v2.5h-1.7z"/><text xml:space="preserve" x="51.7" font-family="Inter" font-size="10" letter-spacing="0" style="font-variant-caps:normal;font-variant-east-asian:normal;font-variant-ligatures:normal;font-variant-numeric:normal;line-height:1.5;shape-inside:url(#prefix__rect1277-2-2);text-decoration-color:#000;white-space:pre" transform="translate(202.5 -45.7)" word-spacing="0"><tspan x="57" y="95.7"><tspan fill="#fff" font-family="Lora" font-size="16" style="font-variation-settings:&quot;wght&quot;600">Om indsatsen</tspan></tspan></text><g fill="#292730" font-family="Inter" font-size="18" font-weight="600" text-anchor="middle"><text xml:space="preserve" x="-87.6" y="63.8" style="font-variant-caps:normal;font-variant-east-asian:normal;font-variant-ligatures:normal;font-variant-numeric:normal;line-height:normal;text-decoration-color:#000;white-space:pre" transform="translate(250 199.5)"><tspan x="-87.6" y="63.8" font-family="Lora" font-size="10" font-weight="normal" style="font-variant-caps:normal;font-variant-east-asian:normal;font-variant-ligatures:normal;font-variant-numeric:normal;font-variation-settings:&quot;wght&quot;600">Omkostninger pr. deltager</tspan></text><text xml:space="preserve" x="-87.6" y="87.2" style="font-variant-caps:normal;font-variant-east-asian:normal;font-variant-ligatures:normal;font-variant-numeric:normal;line-height:normal;text-decoration-color:#000;white-space:pre" transform="translate(250 199.5)"><tspan x="-87.6" y="87.2" font-size="16" font-weight="normal" style="font-variant-caps:normal;font-variant-east-asian:normal;font-variant-ligatures:normal;font-variant-numeric:normal;font-variation-settings:&quot;wght&quot;600">@interventionCosts</tspan></text></g><g fill="#292730" font-family="Inter" font-size="18" font-weight="600" text-anchor="middle"><text xml:space="preserve" x="-226.5" y="92.9" style="font-variant-caps:normal;font-variant-east-asian:normal;font-variant-ligatures:normal;font-variant-numeric:normal;line-height:normal;text-decoration-color:#000;white-space:pre" transform="translate(389 228.6)"><tspan x="-226.5" y="92.9" font-family="Lora" font-size="10" font-weight="normal" style="font-variant-caps:normal;font-variant-east-asian:normal;font-variant-ligatures:normal;font-variant-numeric:normal;font-variation-settings:&quot;wght&quot;600">Målgruppekategori</tspan></text><text xml:space="preserve" x="-226.5" y="116.3" style="font-variant-caps:normal;font-variant-east-asian:normal;font-variant-ligatures:normal;font-variant-numeric:normal;line-height:normal;text-decoration-color:#000;white-space:pre" transform="translate(389 228.6)"><tspan x="-226.5" y="116.3" font-size="16" font-weight="normal" style="font-variant-caps:normal;font-variant-east-asian:normal;font-variant-ligatures:normal;font-variant-numeric:normal;font-variation-settings:&quot;wght&quot;600">@value.TargetGroupCategory</tspan></text></g><g fill="#292730" font-family="Inter" font-size="18" font-weight="600" text-anchor="middle"><text xml:space="preserve" x="45.1" y="34" style="font-variant-caps:normal;font-variant-east-asian:normal;font-variant-ligatures:normal;font-variant-numeric:normal;line-height:normal;text-decoration-color:#000;white-space:pre" transform="translate(389 228.6)"><tspan x="45.1" y="34" font-family="Lora" font-size="10" font-weight="normal" style="font-variant-caps:normal;font-variant-east-asian:normal;font-variant-ligatures:normal;font-variant-numeric:normal;font-variation-settings:&quot;wght&quot;600">Antal deltagere</tspan></text><text xml:space="preserve" x="45" y="57.4" style="font-variant-caps:normal;font-variant-east-asian:normal;font-variant-ligatures:normal;font-variant-numeric:normal;line-height:normal;text-decoration-color:#000;white-space:pre" transform="translate(389 228.6)"><tspan x="45" y="57.4" font-size="16" font-weight="normal" style="font-variant-caps:normal;font-variant-east-asian:normal;font-variant-ligatures:normal;font-variant-numeric:normal;font-variation-settings:&quot;wght&quot;600">@value.InterventionParticipants</tspan></text></g><g fill="#292730" font-family="Inter" font-size="18" font-weight="600" text-anchor="middle"><text xml:space="preserve" x="44.9" y="92.1" style="font-variant-caps:normal;font-variant-east-asian:normal;font-variant-ligatures:normal;font-variant-numeric:normal;line-height:normal;text-decoration-color:#000;white-space:pre" transform="translate(389 228.6)"><tspan x="44.9" y="92.1" font-family="Lora" font-size="10" font-weight="normal" style="font-variant-caps:normal;font-variant-east-asian:normal;font-variant-ligatures:normal;font-variant-numeric:normal;font-variation-settings:&quot;wght&quot;600">Aldersgruppe</tspan></text><text xml:space="preserve" x="44.8" y="115.5" style="font-variant-caps:normal;font-variant-east-asian:normal;font-variant-ligatures:normal;font-variant-numeric:normal;line-height:normal;text-decoration-color:#000;white-space:pre" transform="translate(389 228.6)"><tspan x="44.8" y="115.5" font-size="16" font-weight="normal" style="font-variant-caps:normal;font-variant-east-asian:normal;font-variant-ligatures:normal;font-variant-numeric:normal;font-variation-settings:&quot;wght&quot;600">@ageGroup</tspan></text></g><foreignObject width="547" height="60" x="25" y="184" style="gap:0;height:45px;width:267.5px"><div font-family="Inter" font-size="10" font-weight="400" style="line-height:15px;word-wrap:break-word" text-align="left">Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry&apos;s standard dummy text ever since</div></foreignObject><text xml:space="preserve" font-family="Inter" font-size="10" letter-spacing="0" opacity=".9" style="font-variant-caps:normal;font-variant-east-asian:normal;font-variant-ligatures:normal;font-variant-numeric:normal;line-height:1.5;shape-inside:url(#prefix__rect12361);text-decoration-color:#000;white-space:pre" transform="translate(.2 84.5)" word-spacing="0"><tspan x="24.3" y="91.5"><tspan fill="#0a0812" font-family="Lora" font-size="12" style="font-variation-settings:&quot;wght&quot;500">Formål/vision</tspan></tspan></text><g transform="translate(280.5 .6)"><foreignObject width="547" height="60" x="25" y="184" style="gap:0;height:45px;width:267.5px"><div font-family="Inter" font-size="10" font-weight="400" style="line-height:15px;word-wrap:break-word" text-align="left">@interventionActivities</div></foreignObject><text xml:space="preserve" font-family="Inter" font-size="10" letter-spacing="0" style="font-variant-caps:normal;font-variant-east-asian:normal;font-variant-ligatures:normal;font-variant-numeric:normal;line-height:1.5;shape-inside:url(#prefix__rect1277-2);text-decoration-color:#000;white-space:pre" transform="translate(.2 84.5)" word-spacing="0"><tspan x="24.3" y="89.6"><tspan fill="#0a0812">Aktiviteter</tspan></tspan></text></g><foreignObject width="547" height="75" x="25" y="76" style="gap:0;height:75px;width:547px"><div font-family="Inter" font-size="10" font-weight="400" style="line-height:15px;word-wrap:break-word" text-align="left">@value.InterventionDescription</div></foreignObject><rect width="547" height="119" x="24.5" y="242" fill="#0a0812" fill-opacity=".1" rx="4"/><rect width="546" height="118" x="25" y="242.5" stroke="#0a0812" stroke-opacity=".1" rx="3.5"/><path stroke="#0a0812" stroke-dasharray="2 2" stroke-opacity=".1" stroke-width=".5" d="M297.8 252.3h.4v40.4h-.4zm-263 49h526.5v.4H34.8zm263 9h.4v40.4h-.4z"/><g transform="translate(66.3 121)"><foreignObject width="527" height="60" x="-32" y="375" style="gap:0;height:60px;width:547px"><div font-family="Inter" font-size="10" font-weight="400" style="line-height:15px;word-wrap:break-word" text-align="left">@value.TargetGroupRiskFactors</div></foreignObject><text xml:space="preserve" font-family="Inter" font-size="10" letter-spacing="0" style="font-variant-caps:normal;font-variant-east-asian:normal;font-variant-ligatures:normal;font-variant-numeric:normal;line-height:1.5;shape-inside:url(#prefix__rect12361-5-3);text-decoration-color:#000;white-space:pre" transform="translate(-56 275.4)" word-spacing="0"><tspan x="24.3" y="91.5"><tspan fill="#0a0812" font-family="Lora" font-size="12" opacity=".9" style="font-variation-settings:&quot;wght&quot;500">Risikofaktorer for målgruppen</tspan></tspan></text><path stroke="#dd5587" stroke-dasharray="2 2" stroke-opacity=".5" d="M-41.3 346.5h546v97h-546z"/><path fill="#dd5587" fill-opacity=".1" d="M-41.8 346h547v98h-547z"/></g><g fill="#333"><g fill="#000" fill-opacity=".6" font-family="Inter" font-size="10" letter-spacing="0" word-spacing="0"><text xml:space="preserve" opacity=".9" style="font-variant-caps:normal;font-variant-east-asian:normal;font-variant-ligatures:normal;font-variant-numeric:normal;line-height:1.5;shape-inside:url(#prefix__rect12361-5-3-1-7);text-decoration-color:#000;white-space:pre" transform="translate(.2 535.4)"><tspan x="24.3" y="89.6"><tspan font-size="8" style="font-variation-settings:&quot;wght&quot;700">Navn</tspan></tspan></text><text xml:space="preserve" style="font-variant-caps:normal;font-variant-east-asian:normal;font-variant-ligatures:normal;font-variant-numeric:normal;line-height:1.5;shape-inside:url(#prefix__rect18849);text-decoration-color:#000;white-space:pre" transform="translate(112.2 535.4)"><tspan x="24.3" y="89.6"><tspan font-size="8" style="font-variation-settings:&quot;wght&quot;700">Antal</tspan></tspan></text><text xml:space="preserve" opacity=".9" style="font-variant-caps:normal;font-variant-east-asian:normal;font-variant-ligatures:normal;font-variant-numeric:normal;line-height:1.5;shape-inside:url(#prefix__rect18855);text-decoration-color:#000;white-space:pre" transform="translate(154.2 535.4)"><tspan x="24.3" y="89.6"><tspan font-size="8" style="font-variation-settings:&quot;wght&quot;700">Forandringer</tspan></tspan></text></g>

      @foreach(var stakeholder in value.Stakeholders){
        var changes = string.Join("; ", stakeholder.Changes);
       <g transform="translate(0 @(yOffset) )">
          <text xml:space="preserve" fill="#0a0812" font-family="Inter" font-size="10" letter-spacing="0" opacity=".9" style="font-variant-caps:normal;font-variant-east-asian:normal;font-variant-ligatures:normal;font-variant-numeric:normal;line-height:1.5;shape-inside:url(#prefix__rect19313);text-decoration-color:#000;white-space:pre" transform="translate(154.8 561.3)" word-spacing="0"><tspan x="24.3" y="89.6">@changes</tspan></text><text xml:space="preserve" fill="#0a0812" font-family="Inter" font-size="10" letter-spacing="0" opacity=".9" style="font-variant-caps:normal;font-variant-east-asian:normal;font-variant-ligatures:normal;font-variant-numeric:normal;line-height:1.5;shape-inside:url(#prefix__rect19307);text-decoration-color:#000;white-space:pre" transform="translate(112.4 561.2)" word-spacing="0"><tspan x="24.3" y="89.6">@stakeholder.Amount.ToString()</tspan></text><text xml:space="preserve" fill="#0a0812" font-family="Inter" font-size="10" letter-spacing="0" opacity=".9" style="font-variant-caps:normal;font-variant-east-asian:normal;font-variant-ligatures:normal;font-variant-numeric:normal;line-height:1.5;shape-inside:url(#prefix__rect12361-5-3-1-7-5);text-decoration-color:#000;white-space:pre" transform="translate(1 561.3)" word-spacing="0"><tspan x="24.3" y="89.6">@stakeholder.Name</tspan></text><path fill-opacity=".1" d="M571.5 658h-547v2h547z" mask="url(#b)" transform="translate(-.1 -.1)"/>
          </g>
          yOffset += 23;
        }
  
  </g><text xml:space="preserve" font-family="Inter" font-size="10" letter-spacing="0" opacity=".9" style="font-variant-caps:normal;font-variant-east-asian:normal;font-variant-ligatures:normal;font-variant-numeric:normal;line-height:1.5;shape-inside:url(#prefix__rect12361-5-3-1);text-decoration-color:#000;white-space:pre" transform="translate(.4 511.4)" word-spacing="0"><tspan x="24.3" y="91.5"><tspan fill="#0a0812" font-family="Lora" font-size="12" opacity=".9" style="font-variation-settings:&quot;wght&quot;500">Intressenter</tspan></tspan></text><path fill="#0a0812" fill-opacity=".1" d="M571.5 635h-547v2h547z" mask="url(#c)"/><g transform="translate(122.3 132.7)"><foreignObject width="547" height="60" x="-98" y="261" style="gap:0;height:60px;width:547px"><div font-family="Inter" font-size="10" font-weight="400" style="line-height:15px;word-wrap:break-word" text-align="left">@value.TargetGroupDescription</div></foreignObject><text xml:space="preserve" font-family="Inter" font-size="10" letter-spacing="0" style="font-variant-caps:normal;font-variant-east-asian:normal;font-variant-ligatures:normal;font-variant-numeric:normal;line-height:1.5;shape-inside:url(#prefix__rect12361-5);text-decoration-color:#000;white-space:pre" transform="translate(-122.4 161.2)" word-spacing="0"><tspan x="24.3" y="91.5"><tspan fill="#0a0812" font-family="Lora" font-size="12" opacity=".9" style="font-variation-settings:&quot;wght&quot;500">Målgruppebeskrivelse</tspan></tspan></text></g></g><defs><filter id="a" width="599" height="846" x=".5" y="0" color-interpolation-filters="sRGB" filterUnits="userSpaceOnUse"><feFlood flood-opacity="0" result="BackgroundImageFix"/><feColorMatrix in="SourceAlpha" result="hardAlpha" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"/><feOffset dx="4" dy="4"/><feComposite in2="hardAlpha" operator="out"/><feColorMatrix values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.15 0"/><feBlend in2="BackgroundImageFix" result="effect1_dropShadow_691_1886"/><feBlend in="SourceGraphic" in2="effect1_dropShadow_691_1886" result="shape"/></filter></defs></svg>
}
</body>